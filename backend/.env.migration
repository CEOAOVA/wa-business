# FEATURE FLAGS PARA MIGRACIÓN HÍBRIDA - FASE 3
# Copiar estas variables a tu archivo .env principal

# === CONFIGURACIÓN DE MIGRACIÓN HÍBRIDA ===
# Inicialmente todas en false para máxima seguridad
USE_DIRECT_SUPABASE=false
USE_OPTIMIZED_QUERIES=false
USE_BATCH_OPERATIONS=false
USE_CIRCUIT_BREAKER=true

# === CONFIGURACIÓN DE MONITOREO ===
ENABLE_PERFORMANCE_METRICS=true
ROLLBACK_THRESHOLD=10

# === CONFIGURACIÓN DE TESTING GRADUAL ===
# Porcentaje de tráfico que usa el nuevo sistema (0-100)
MIGRATION_TRAFFIC_PERCENTAGE=0

# === CONFIGURACIÓN DE LOGGING ===
# Nivel de detalle en logs de migración
MIGRATION_LOG_LEVEL=info

# === CONFIGURACIÓN DE ROLLBACK AUTOMÁTICO ===
# Activar rollback automático si error rate > threshold
AUTO_ROLLBACK_ENABLED=true

# === CONFIGURACIÓN DE ALERTAS ===
# Webhook para notificaciones de migración (opcional)
MIGRATION_WEBHOOK_URL=

# INSTRUCCIONES DE USO:
# 1. Copiar estas variables a .env
# 2. Iniciar con todas las optimizaciones en false
# 3. Activar USE_CIRCUIT_BREAKER=true (es seguro)
# 4. Monitorear /api/health/database-migration
# 5. Activar gradualmente las optimizaciones:
#    - USE_OPTIMIZED_QUERIES=true (bajo riesgo)
#    - USE_DIRECT_SUPABASE=true (medio riesgo)
#    - USE_BATCH_OPERATIONS=true (alto riesgo)
# 6. Incrementar MIGRATION_TRAFFIC_PERCENTAGE gradualmente: 10% -> 25% -> 50% -> 100%
